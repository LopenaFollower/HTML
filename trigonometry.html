<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta name="viewport"content="width=device-width,initial-scale=1">
		<style>
			*{
				user-select:none;
			}
			td{
				text-align:center;
				overflow:hidden;
				height:50px;
				width:50px;
				font:900 18px monospace;
			}
		</style>
	</head>
	<body>
		x = <input id=x value=0 style="width:50px"oninput="try{x=eval(this.value)}catch(e){}"/>
		y = <input id=x value=0 style="width:50px"oninput="try{y=eval(this.value)}catch(e){}"/>
		z = <input id=x value=0 style="width:50px"oninput="try{z=eval(this.value)}catch(e){}"/><br>
		<br>
		<textarea style="width:100%"id=equation></textarea><br>
		<div id=res></div><br>
		<button onclick='equation.value=""'>clear</button><button onclick='try{equation.value=equation.value.removeEnd()}catch(e){res.innerText=e.message}'>back</button><button onclick='try{res.innerText=eval(equation.value)}catch(e){res.innerText=e.message}'>solve</button><br><br>
		<table border=1 style='border-collapse:collapse;'>
			<tr>
				<td class='num'onclick='add(this.innerText,this.className)'>7</td>
				<td class='num'onclick='add(this.innerText,this.className)'>8</td>
				<td class='num'onclick='add(this.innerText,this.className)'>9</td>
				<td class='op'onclick='add(this.innerText,this.className)'>/</td>
			</tr>
			<tr>
				<td class='num'onclick='add(this.innerText,this.className)'>4</td>
				<td class='num'onclick='add(this.innerText,this.className)'>5</td>
				<td class='num'onclick='add(this.innerText,this.className)'>6</td>
				<td class='op'onclick='add(this.innerText,this.className)'>*</td>
			</tr>
			<tr>
				<td class='num'onclick='add(this.innerText,this.className)'>1</td>
				<td class='num'onclick='add(this.innerText,this.className)'>2</td>
				<td class='num'onclick='add(this.innerText,this.className)'>3</td>
				<td class='op'onclick='add(this.innerText,this.className)'>-</td>
			</tr>
			<tr>
				<td class='num'onclick='add(this.innerText,this.className)'>0</td>
				<td class='num'onclick='add(this.innerText,this.className)'>.</td>
				<td class='num'onclick='add(this.innerText,this.className)'>e</td>
				<td class='op'onclick='add(this.innerText,this.className)'>+</td>
			</tr>
			<tr>
				<td class='reg'onclick='add(this.innerText,this.className)'>(</td>
				<td class='reg'onclick='add(this.innerText,this.className)'>)</td>
				<td class='reg'onclick='add(this.innerText,this.className)'>,</td>
				<td class='reg'onclick='add(this.innerText,this.className)'>%</td>
			</tr>
			<tr>
				<td class='variable'onclick='add(this.innerText,this.className)'>x</td>
				<td class='variable'onclick='add(this.innerText,this.className)'>y</td>
				<td class='variable'onclick='add(this.innerText,this.className)'>z</td>
				<td class='variable'onclick='add(this.innerText,this.className)'></td>
			</tr>
		</table>
		<table border=1 style='border-collapse:collapse;'>
			<tr>
				<td class='function'onclick='add(this.innerText,this.className)'>tan</td>
				<td class='function'onclick='add(this.innerText,this.className)'>tanh</td>
				<td class='function'onclick='add(this.innerText,this.className)'>atan</td>
				<td class='function'onclick='add(this.innerText,this.className)'>atanh</td>
			</tr>
			<tr>
				<td class='function'onclick='add(this.innerText,this.className)'>cos</td>
				<td class='function'onclick='add(this.innerText,this.className)'>cosh</td>
				<td class='function'onclick='add(this.innerText,this.className)'>acos</td>
				<td class='function'onclick='add(this.innerText,this.className)'>acosh</td>
			</tr>
			<tr>
				<td class='function'onclick='add(this.innerText,this.className)'>sin</td>
				<td class='function'onclick='add(this.innerText,this.className)'>sinh</td>
				<td class='function'onclick='add(this.innerText,this.className)'>asin</td>
				<td class='function'onclick='add(this.innerText,this.className)'>asinh</td>
			</tr>
			<tr>
				<td class='function'onclick='add(this.innerText,this.className)'>sqrt</td>
				<td class='function'onclick='add(this.innerText,this.className)'>cbrt</td>
				<td class='function'onclick='add(this.innerText,this.className)'>pow</td>
				<td class='function'onclick='add(this.innerText,this.className)'>abs</td>
			</tr>
			<tr>
				<td class='function'onclick='add(this.innerText,this.className)'>fact</td>
				<td class='function'onclick='add(this.innerText,this.className)'></td>
				<td class='function'onclick='add(this.innerText,this.className)'></td>
				<td class='function'onclick='add(this.innerText,this.className)'></td>
			</tr>
		</table>
		<script>
String.prototype.removeEnd=function(c=1){
	return this.substring(0,this.length-c);
};
String.prototype.insert=function(str,index){
	return this.substring(0,index)+str+this.substring(index,this.length)
};
var x=0,y=0,z=0,focused=false;
const
{tan}=Math,
{tanh}=Math,
{atan}=Math,
{atan2}=Math,
{atanh}=Math,
{cos}=Math,
{cosh}=Math,
{acos}=Math,
{acosh}=Math,
{sin}=Math,
{sinh}=Math,
{asin}=Math,
{asinh}=Math,
{sqrt}=Math,
{pow}=Math,
{cbrt}=Math,
{abs}=Math
Math.fact=function(a){
	let r=a;
	if(a>0){
		for(let i=a-1;i>0;i--){
			r*=i
		}
	}else if(a<0){
		for(let i=a+1;i<0;i++){
			r*=i
		}
	}else{
		return 1
	}
	return r
}
const{fact}=Math
function add(e,t,r=""){
	switch(t){
		case"num":
			r=e;
			break;
		case"function":
			r=e+"(";
			break;
		case"op":
			r=e;
			break;
		case"reg":
			r=e;
			break;
		case"variable":
			r=e;
			break;
	}
	if(focused){
		equation.focus()
		equation.value=equation.value.insert(r,equation.selectionStart)
		setTimeout(()=>{
			focused=true
		},25)
	}else{
		equation.value+=r
	}
}
equation.onfocus=()=>focused=true;
equation.onblur=()=>{
	setTimeout(()=>{focused=false},1)
};
setInterval(function(){
	equation.style.height=equation.scrollHeight-1 + "px";
});
		</script>
	</body>
</html>