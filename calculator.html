<!DOCTYPE html>
<html>
	<head>
		<title>
			calcu v2
		</title>
		<style>
			table{
				border-color:black;
				border-collapse:collapse;
			}
			td{
				text-align:center;
				font-family:monopoly;
				font-weight:900;
				font-size:200%;
				width:40px;
				height:40px;
			}
		</style>
	</head>
	<body>
		<input readonly id="disp">
		<table border="1">
			<tr>
				<td>7</td><td>8</td><td>9</td><td>÷</td>
			</tr>
			<tr>
				<td>4</td><td>5</td><td>6</td><td>×</td>
			</tr>
			<tr>
				<td>1</td><td>2</td><td>3</td><td>-</td>
			</tr>
			<tr>
				<td>0</td><td>.</td><td>e</td><td>+</td>
			</tr>
		</table>
		<script>
const{floor}=Math,{round}=Math,{random}=Math,{ceil}=Math,{log}=console,{sqrt}=Math,{pow}=Math,{isInteger}=Number;
var can_input=true;
function $(id){
	return document.getElementById(id)
}
function err(a){
	$("disp").value=a;
	can_input=false
	setTimeout(()=>{
			$("disp").value="";
			can_input=true
	},1000);
}
function RanInt(a,b,c){
	let min,max;
	if(a>b){
		min=b;
		max=a;
	}else{
		min=a;
		max=b;
	}
	if(c||(a===undefined)){
		err("Argument Error");
	}
	return random()*(max-min)+min
}
function factor(n,m){
    let res=[];
    let s=[...Array(n+1).keys()].filter(i=>n%i===0)
    for(let i=0;i<s.length;i++){
        if(m=="all"||m===undefined){
            res[res.length]=s[i]+","+s[s.length-1-i]
        }else if(m=="perf"){
            if((isInteger(sqrt(s[i]))&&i>1)||(isInteger(sqrt(s[s.length-1-i]))&&i>1)){
                res[res.length]=s[i]+","+s[s.length-1-i]
            }
        }
    }
    return res
}
function proper_sqrt(e){
    if(!isInteger(sqrt(e))){
        let le_pair=factor(e,"perf");
        return(sqrt(le_pair[0].split(",")[0])+"√"+le_pair[0].split(",")[1])
    }else{
        return sqrt(e)
    }
}
function prep(from,symbol,replace,additional){
	let res="";
	from.split(" ").forEach(e=>{
		if(e.includes(symbol)){
			res+=e.replace(symbol,replace)+additional+" ";
		}else{
			res+=e+" "
		}
	})
	return res.trim()
}
function prf_sqr(range){
	return pow(ceil(random()*(range||10)),2)
}
		</script>
	</body>
</html>
