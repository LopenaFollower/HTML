<!DOCTYPE html>
<html>
	<head>
		<title>k</title>
		<style>
			*{
				color:#fff;
				background-color:#0e0e0e;
			}
			#res{
				word-wrap:break-word;
				font:900 20px monospace;
			}
			.von{
				position:fixed;
				bottom:0;
			}
		</style>
	</head>
	<body>
		<input type=number id=decimals placeholder='# of decimals'oninput='display(Math.ceil(this.value))'/>
		<button onclick='display(Math.ceil(decimals.value))'>Calc</button><br>
		<div class=von>
			automatic<input type=checkbox oninput='if(this.checked){pi=main();pi.next();res.innerText="3.";di=setInterval(()=>{d="";for(let i=0;i<10;i++){d+=pi.next().value};d+=" ";res.insertAdjacentHTML("beforeend",d)})}else{clearInterval(di);di=null}'/><br><
			scroll<input type=checkbox onfocus='setInterval(()=>{if(this.checked){if(di!=null){window.scrollBy(0,50)}}})'/>
			<button onclick='let si=setInterval(()=>{if(di==null){window.scrollBy(0,-500)}});setTimeout(()=>{clearInterval(si)},750);'>Back up</button>
		</div>
		<div id=res></div>
		<script>
/*
calculated using the Spigot Algorithms
http://www.cs.ox.ac.uk/jeremy.gibbons/publications/spigot.pdf
*/
var pi,di;
function*main(){
	let q=1n;
	let r=180n;
	let t=60n;
	let i=2n;
	while(1){
		let digit=((i*27n-12n)*q+r*5n)/(t*5n);
		yield Number(digit);
		let u=i*3n;
		u=(u+1n)*3n*(u+2n);
		r=u*10n*(q*(i*5n-2n)+r-t*digit);
		q*=10n*i*(i++*2n-1n);
		t*=u;
	}
}
function display(l){
	pi=main();pi.next();
	res.innerText="3."
	if(l>=10000){
		let i=0,it=setInterval(()=>{
			if(i>=l)return clearInterval(it);
			i++;
			res.insertAdjacentHTML("beforeend",pi.next().value);
		})
	}else{
		for(let i=0;i<l;i++){
			res.insertAdjacentHTML("beforeend",pi.next().value);
		}
	}
}
		</script>
	</body>
</html>